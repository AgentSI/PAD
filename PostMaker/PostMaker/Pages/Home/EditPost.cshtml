@page
@model EditPostModel

<div class="container mt-4">
    <h2>Editează post-ul</h2>
    <form method="post" class="mt-3">
        <input type="hidden" asp-for="Post.Id" />
        
        <div class="form-group">
            <label asp-for="Post.Author" class="control-label">Autor</label>
            <input asp-for="Post.Author" class="form-control" />
            <span asp-validation-for="Post.Author" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Post.Content" class="control-label">Conținut</label>
            <textarea asp-for="Post.Content" class="form-control" rows="4"></textarea>
            <span asp-validation-for="Post.Content" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Modifcă</button>
        <form method="post">
            <input type="hidden" asp-for="Post.Id" />
            <button type="submit" class="btn btn-danger" onclick="confirmDelete()">Șterge</button>
        </form>
    </form>
</div>

<script>
    function confirmDelete() {
        if (confirm('Sigur doriți să ștergeți acest post?')) {
            document.forms[0].action = "./EditPost?handler=Delete";
            document.forms[0].submit();
        }
    }
</script>